#!/usr/bin/env python
# -*- coding: utf-8 -*-
# =============================================================================
#     FileName: hack_city.py
#         Desc: 2015-15/3/11:下午3:01
#       Author: 苦咖啡
#        Email: voilet@qq.com
#     HomePage: http://blog.kukafei520.net
#      History: 
# =============================================================================
import time
import datetime

from data.models import hacker_data
city_list = [u'北京市',
            u'天津市',
            u'河北省石家庄市',
            u'河北省',
            u'河北省唐山市',
            u'河北省秦皇岛市',
            u'河北省邯郸市',
            u'河北省邢台市',
            u'河北省保定市',
            u'河北省张家口市',
            u'河北省承德市',
            u'河北省沧州市',
            u'河北省廊坊市',
            u'河北省衡水市',
            u'山西省太原市',
            u'山西省大同市',
            u'山西省阳泉市',
            u'山西省长治市',
            u'山西省晋城市',
            u'山西省朔州市',
            u'山西省晋中市',
            u'山西省运城市',
            u'山西省忻州市',
            u'山西省临汾市',
            u'山西省吕梁市',
            u'内蒙古自治区呼和浩特市',
            u'内蒙古自治区包头市',
            u'内蒙古自治区乌海市',
            u'内蒙古自治区赤峰市',
            u'内蒙古自治区通辽市',
            u'内蒙古自治区鄂尔多斯市',
            u'内蒙古自治区呼伦贝尔市',
            u'内蒙古自治区巴彦淖尔市',
            u'内蒙古自治区乌兰察布市',
            u'内蒙古自治区兴安盟',
            u'内蒙古自治区锡林郭勒盟',
            u'内蒙古自治区阿拉善盟',
            u'辽宁省沈阳市',
            u'辽宁省大连市',
            u'辽宁省鞍山市',
            u'辽宁省抚顺市',
            u'辽宁省本溪市',
            u'辽宁省丹东市',
            u'辽宁省锦州市',
            u'辽宁省营口市',
            u'辽宁省阜新市',
            u'辽宁省辽阳市',
            u'辽宁省盘锦市',
            u'辽宁省铁岭市',
            u'辽宁省朝阳市',
            u'辽宁省葫芦岛市',
            u'吉林省长春市',
            u'吉林省',
            u'吉林省吉林市',
            u'吉林省四平市',
            u'吉林省辽源市',
            u'吉林省通化市',
            u'吉林省白山市',
            u'吉林省松原市',
            u'吉林省白城市',
            u'吉林省延边朝鲜族自治州',
            u'黑龙江省哈尔滨市',
            u'黑龙江省齐齐哈尔市',
            u'黑龙江省鸡西市',
            u'黑龙江省鹤岗市',
            u'黑龙江省双鸭山市',
            u'黑龙江省大庆市',
            u'黑龙江省伊春市',
            u'黑龙江省佳木斯市',
            u'黑龙江省七台河市',
            u'黑龙江省牡丹江市',
            u'黑龙江省黑河市',
            u'黑龙江省绥化市',
            u'黑龙江省大兴安岭地区',
            u'上海市',
            u'江苏省南京市',
            u'江苏省无锡市',
            u'江苏省徐州市',
            u'江苏省常州市',
            u'江苏省苏州市',
            u'江苏省南通市',
            u'江苏省连云港市',
            u'江苏省淮安市',
            u'江苏省盐城市',
            u'江苏省扬州市',
            u'江苏省镇江市',
            u'江苏省泰州市',
            u'江苏省宿迁市',
            u'浙江省杭州市',
            u'浙江省宁波市',
            u'浙江省温州市',
            u'浙江省嘉兴市',
            u'浙江省湖州市',
            u'浙江省绍兴市',
            u'浙江省金华市',
            u'浙江省衢州市',
            u'浙江省舟山市',
            u'浙江省台州市',
            u'浙江省丽水市',
            u'安徽省合肥市',
            u'安徽省芜湖市',
            u'安徽省蚌埠市',
            u'安徽省淮南市',
            u'安徽省马鞍山市',
            u'安徽省淮北市',
            u'安徽省铜陵市',
            u'安徽省安庆市',
            u'安徽省黄山市',
            u'安徽省滁州市',
            u'安徽省阜阳市',
            u'安徽省宿州市',
            u'安徽省巢湖市',
            u'安徽省六安市',
            u'安徽省亳州市',
            u'安徽省池州市',
            u'安徽省宣城市',
            u'福建省福州市',
            u'福建省厦门市',
            u'福建省莆田市',
            u'福建省三明市',
            u'福建省泉州市',
            u'福建省漳州市',
            u'福建省南平市',
            u'福建省龙岩市',
            u'福建省宁德市',
            u'江西省南昌市',
            u'江西省景德镇市',
            u'江西省萍乡市',
            u'江西省九江市',
            u'江西省新余市',
            u'江西省鹰潭市',
            u'江西省赣州市',
            u'江西省吉安市',
            u'江西省吉安???',
            u'江西省宜春市',
            u'江西省抚州市',
            u'江西省上饶市',
            u'山东省济南市',
            u'山东省青岛市',
            u'山东省淄博市',
            u'山东省枣庄市',
            u'山东省东营市',
            u'山东省烟台市',
            u'山东省潍坊市',
            u'山东省济宁市',
            u'山东省泰安市',
            u'山东省威海市',
            u'山东省日照市',
            u'山东省莱芜市',
            u'山东省临沂市',
            u'山东省德州市',
            u'山东省聊城市',
            u'山东省滨州市',
            u'山东省牡丹区',
            u'河南省郑州市',
            u'河南省开封市',
            u'河南省洛阳市',
            u'河南省平顶山市',
            u'河南省安阳市',
            u'河南省鹤壁市',
            u'河南省新乡市',
            u'河南省焦作市',
            u'河南省濮阳市',
            u'河南省许昌市',
            u'河南省漯河市',
            u'河南省三门峡市',
            u'河南省南阳市',
            u'河南省商丘市',
            u'河南省信阳市',
            u'河南省周口市',
            u'河南省驻马店市',
            u'湖北省武汉市',
            u'湖北省黄石市',
            u'湖北省十堰市',
            u'湖北省宜昌市',
            u'湖北省襄樊市',
            u'湖北省鄂州市',
            u'湖北省荆门市',
            u'湖北省孝感市',
            u'湖北省荆州市',
            u'湖北省黄冈市',
            u'湖北省咸宁市',
            u'湖北省随州市',
            u'湖北省恩施土家族苗族自治州',
            u'湖北省仙桃市',
            u'湖南省长沙市',
            u'湖南省株洲市',
            u'湖南省湘潭市',
            u'湖南省衡阳市',
            u'湖南省邵阳市',
            u'湖南省岳阳市',
            u'湖南省常德市',
            u'湖南省张家界市',
            u'湖南省益阳市',
            u'湖南省郴州市',
            u'湖南省永州市',
            u'湖南省怀化市',
            u'湖南省娄底市',
            u'湖南省湘西土家族苗族自治州',
            u'广东省广州市',
            u'广东省韶关市',
            u'广东省深圳市',
            u'广东省珠海市',
            u'广东省汕头市',
            u'广东省佛山市',
            u'广东省江门市',
            u'广东省湛江市',
            u'广东省茂名市',
            u'广东省肇庆市',
            u'广东省惠州市',
            u'广东省梅州市',
            u'广东省汕尾市',
            u'广东省河源市',
            u'广东省阳江市',
            u'广东省清远市',
            u'广东省东莞市',
            u'广东省中山市',
            u'广东省潮州市',
            u'广东省揭阳市',
            u'广东省云浮市',
            u'广西壮族自治区南宁市',
            u'广西壮族自治区柳州市',
            u'广西壮族自治区桂林市',
            u'广西壮族自治区梧州市',
            u'广西壮族自治区北海市',
            u'广西壮族自治区防城港市',
            u'广西壮族自治区钦州市',
            u'广西壮族自治区贵港市',
            u'广西壮族自治区玉林市',
            u'广西壮族自治区百色市',
            u'广西壮族自治区贺州市',
            u'广西壮族自治区河池市',
            u'广西壮族自治区来宾市',
            u'广西壮族自治区崇左市',
            u'海南省海口市',
            u'海南省三亚市',
            u'海南省五指山市',
            u'重庆市',
            u'四川省成都市',
            u'四川省自贡市',
            u'四川省攀枝花市',
            u'四川省泸州市',
            u'四川省德阳市',
            u'四川省绵阳市',
            u'四川省广元市',
            u'四川省遂宁市',
            u'四川省内江市',
            u'四川省乐山市',
            u'四川省南充市',
            u'四川省眉山市',
            u'四川省宜宾市',
            u'四川省广安市',
            u'四川省达州市',
            u'四川省雅安市',
            u'四川省巴中市',
            u'四川省资阳市',
            u'四川省阿坝藏族羌族自治州',
            u'四川省甘孜藏族自治州',
            u'四川省凉山彝族自治州',
            u'贵州省贵阳市',
            u'贵州省六盘水市',
            u'贵州省遵义市',
            u'贵州省安顺市',
            u'贵州省铜仁地区',
            u'贵州省兴义市',
            u'贵州省毕节地区',
            u'贵州省黔东南苗族侗族自治州',
            u'贵州省黔南布依族苗族自治州',
            u'云南省昆明市',
            u'云南省曲靖市',
            u'云南省玉溪市',
            u'云南省保山市',
            u'云南省昭通市',
            u'云南省丽江市',
            u'云南省墨江哈尼族自治县',
            u'云南省临沧市',
            u'云南省楚雄彝族自治州',
            u'云南省红河哈尼族彝族自治州',
            u'云南省文山壮族苗族自治州',
            u'云南省西双版纳傣族自治州',
            u'云南省大理白族自治州',
            u'云南省德宏傣族景颇族自治州',
            u'云南省怒江傈僳族自治州',
            u'云南省迪庆藏族自治州',
            u'西藏自治区拉萨市',
            u'西藏自治区昌都地区',
            u'西藏自治区山南地区',
            u'西藏自治区日喀则地区',
            u'西藏自治区那曲地区',
            u'西藏自治区阿里地区',
            u'西藏自治区林芝地区',
            u'陕西省西安市',
            u'陕西省铜川市',
            u'陕西省宝鸡市',
            u'陕西省咸阳市',
            u'陕西省渭南市',
            u'陕西省延安市',
            u'陕西省汉中市',
            u'陕西省榆林市',
            u'陕西省安康市',
            u'陕西省商洛市',
            u'甘肃省兰州市',
            u'甘肃省嘉峪关市',
            u'甘肃省金昌市',
            u'甘肃省白银市',
            u'甘肃省天水市',
            u'甘肃省武威市',
            u'甘肃省张掖市',
            u'甘肃省平凉市',
            u'甘肃省酒泉市',
            u'甘肃省庆阳市',
            u'甘肃省定西市',
            u'甘肃省陇南市',
            u'甘肃省临夏回族自治州',
            u'甘肃省甘南藏族自治州',
            u'青海省西宁市',
            u'青海省海东地区',
            u'青海省海北藏族自治州',
            u'青海省黄南藏族自治州',
            u'青海省海南藏族自治州',
            u'青海省果洛藏族自治州',
            u'青海省玉树藏族自治州',
            u'青海省海西蒙古族藏族自治州',
            u'宁夏回族自治区银川市',
            u'宁夏回族自治区石嘴山市',
            u'宁夏回族自治区吴忠市',
            u'宁夏回族自治区固原市',
            u'宁夏回族自治区中卫市',
            u'新疆维吾尔乌鲁木齐市',
            u'新疆维吾尔克拉玛依市',
            u'新疆维吾尔吐鲁番地区',
            u'新疆维吾尔哈密地区',
            u'新疆维吾尔昌吉回族自治州',
            u'新疆维吾尔博尔塔拉蒙古自治州',
            u'新疆维吾尔巴音郭楞蒙古自治州',
            u'新疆维吾尔阿克苏地区',
            u'新疆维吾尔阿图什市',
            u'新疆维吾尔喀什地区',
            u'新疆维吾尔和田地区',
            u'新疆维吾尔伊犁哈萨克自治州',
            u'新疆维吾尔塔城地区',
            u'新疆维吾尔阿勒泰地区',
            u'新疆维吾尔石河子市',
            u'香港',
            u'澳门',
            u'台湾省',
            u'黑龙江省',
            u'浙江省',
]

def search_city():
    """
    :return:
    """
    start_time = ((datetime.datetime.now()-datetime.timedelta(days=1)))
    stop_time = datetime.datetime.now()
    sl = hacker_data.objects(datetime__gte=start_time, datetime__lt=stop_time)
    pie_data = []
    pie_count = {}

    for i in sl:
        if i.city in city_list:
            pie_data.append(i.city)
    for i in pie_data:
        if pie_data.count(i) > 1:
            pie_count[i] = pie_data.count(i)

    return pie_count
